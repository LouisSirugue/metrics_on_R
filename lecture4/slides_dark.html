<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Data visualization</title>
    <meta charset="utf-8" />
    <meta name="author" content=" Louis SIRUGUE" />
    <script src="libs/kePrint/kePrint.js"></script>
    <link href="libs/lightable/lightable.css" rel="stylesheet" />
    <link href="libs/countdown/countdown.css" rel="stylesheet" />
    <script src="libs/countdown/countdown.js"></script>
    <link rel="shortcut icon" href="star.png" />
    <link rel="stylesheet" href="xaringan-themer.css" type="text/css" />
    <link rel="stylesheet" href="theme.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Data visualization
## Lecture 4
### <br>Louis SIRUGUE
### CPES 2 - Fall 2022

---


&lt;style type="text/css"&gt;
body{background-color:black;filter:invert(1)}
&lt;/style&gt;



&lt;style&gt; .left-column {width: 65%;} .right-column {width: 30%;} &lt;/style&gt;

### Quick reminder

#### 1. Packages


```r
library(dplyr)
```

--

&lt;p style = "margin-bottom:1.5cm;"&gt;&lt;/p&gt;

#### 2. Main dplyr functions

.left-column[
&lt;table class="table table-hover table-condensed" style="width: auto !important; margin-left: auto; margin-right: auto;"&gt;
&lt;caption&gt;&lt;/caption&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; Function &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Meaning &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; mutate() &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Modify or create a variable &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; select() &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Keep a subset of variables &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; filter() &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Keep a subset of observations &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; arrange() &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Sort the data &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; group_by() &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Group the data &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; summarise() &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Summarizes variables into 1 observation per group &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
]

--

.right-column[
&lt;img style = "margin-top:0cm; margin-left:1.5cm;" src = "pipe.png" width = "180"/&gt;
]

---

### Quick reminder

#### 3. Merge data


```r
a &lt;- data.frame(x = c(1, 2, 3), y = c("a", "b", "c"))
b &lt;- data.frame(x = c(4, 5, 6), y = c("d", "e", "f"))
c &lt;- data.frame(x = 1:6, z = c("alpha", "bravo", "charlie", "delta", "echo", "foxtrot"))
```

--


```r
a %&gt;% bind_rows(b) %&gt;% left_join(c, by = "x")
```

&lt;table class="table table-hover table-condensed" style="width: auto !important; margin-left: auto; margin-right: auto;"&gt;
&lt;caption&gt;&lt;/caption&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:right;"&gt; x &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; y &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; z &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; a &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; alpha &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; b &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; bravo &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 3 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; c &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; charlie &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 4 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; d &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; delta &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; e &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; echo &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 6 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; f &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; foxtrot &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

---

### Quick reminder

#### 4. Reshape data




&lt;table class="table table-hover table-condensed" style="width: auto !important; margin-left: auto; margin-right: auto;"&gt;
&lt;caption&gt;&lt;/caption&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; country &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; year &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; share_tertiary &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; share_gdp &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; FRA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2015 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 44.69 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3.40 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; USA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2015 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 46.52 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3.21 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

--

&lt;p style = margin-bottom:1.25cm;"&gt;&lt;/p&gt;


```r
data %&gt;% pivot_longer(c(share_tertiary, share_gdp), names_to = "Variable", values_to = "Value")
```

&lt;p style = margin-bottom:1.25cm;"&gt;&lt;/p&gt;

--

&lt;table class="table table-hover table-condensed" style="width: auto !important; margin-left: auto; margin-right: auto;"&gt;
&lt;caption&gt;&lt;/caption&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; country &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; year &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Variable &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; Value &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; FRA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2015 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; share_tertiary &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 44.69 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; FRA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2015 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; share_gdp &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3.40 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; USA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2015 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; share_tertiary &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 46.52 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; USA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2015 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; share_gdp &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3.21 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

---

class: inverse, hide-logo

### Warm up practice

#### 1) Import `starbucks.csv` and `View()` the data
&lt;p style = "margin-bottom:1.5cm;"&gt;&lt;/p&gt;

--

#### 2) Inspect the structure of the data using `str()`
&lt;p style = "margin-bottom:1.5cm;"&gt;&lt;/p&gt;

--

#### 3) Use `summarise()` to compute for each beverage category the average number of calories and the number of different declinations (there is 1 row per declination)
&lt;p style = "margin-bottom:1.5cm;"&gt;&lt;/p&gt;

--

#### 4) Create a subset of the data called `maxcal` containing the variables `Beverage_category`, `Beverage_prep`, and `Calories`, for the 10 observations with the highest calorie values

&lt;center&gt;&lt;i&gt;You can use the row_number() function within filter() to use the row numbers as any other variable&lt;/i&gt;&lt;/center&gt;
&lt;p style = "margin-bottom:1.5cm;"&gt;&lt;/p&gt;

--

&lt;center&gt;&lt;h3&gt;&lt;i&gt;You've got 10 minutes!&lt;/i&gt;&lt;/h3&gt;&lt;/center&gt;

<div class="countdown" id="timer_531f2feb" data-update-every="1" data-start-immediately="true" tabindex="0" style="top:0;right:0;">
<div class="countdown-controls"><button class="countdown-bump-down">&minus;</button><button class="countdown-bump-up">&plus;</button></div>
<code class="countdown-time"><span class="countdown-digits minutes">10</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>

---

class: inverse, hide-logo

### Solution

#### 1) Import `starbucks.csv` and `View()` the data


```r
starbucks &lt;- read.csv("C:/User/Documents/starbucks.csv")
View(starbucks)
```



--

&lt;center&gt;&lt;img src = "view_starbucks.png" width = "1100"/&gt;&lt;/center&gt;

---

class: inverse, hide-logo

### Solution

#### 1) Import `starbucks.csv` and `View()` the data


```r
starbucks &lt;- read.csv("C:/User/Documents/starbucks.csv")
View(starbucks)
```



&lt;center&gt;&lt;img src = "view_starbucks_sep.png" width = "1100"/&gt;&lt;/center&gt;

&lt;p style = "margin-bottom:1cm;"&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;We only have &lt;b&gt;one variable&lt;/b&gt; in which all values are &lt;b&gt;separated by semicolons&lt;/b&gt;&lt;/li&gt;
  &lt;ul&gt;
    &lt;li&gt;We need to set the &lt;b&gt;sep&lt;/b&gt; argument of the function accordingly&lt;/li&gt;
  &lt;/ul&gt;
&lt;/ul&gt;

---

class: inverse, hide-logo

### Solution

#### 1) Import `starbucks.csv` and `View()` the data


```r
starbucks &lt;- read.csv("C:/User/Documents/starbucks.csv")
View(starbucks)
```



&lt;center&gt;&lt;img src = "view_starbucks_encoding.png" width = "1100"/&gt;&lt;/center&gt;

&lt;p style = "margin-bottom:1cm;"&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;We only have &lt;b&gt;one variable&lt;/b&gt; in which all values are &lt;b&gt;separated by semicolons&lt;/b&gt;&lt;/li&gt;
  &lt;ul&gt;
    &lt;li&gt;We need to set the &lt;b&gt;sep&lt;/b&gt; argument of the function accordingly&lt;/li&gt;
    &lt;li&gt;Like last time, we also need to set the &lt;b&gt;encoding&lt;/b&gt; argument correctly&lt;/li&gt;
  &lt;/ul&gt;
&lt;/ul&gt;

--


```r
*starbucks &lt;- read.csv("C:/User/Documents/starbucks.csv", sep = ";", encoding = "UTF-8")
```



---

class: inverse, hide-logo

### Solution

#### 2) Inspect the structure of the data using `str()`


```r
str(starbucks)
```

--


```text
## 'data.frame':    242 obs. of  18 variables:
##  $ Beverage_category  : chr  "Coffee" "Coffee" "Coffee" "Coffee" ...
##  $ Beverage           : chr  "Brewed Coffee" "Brewed Coffee" "Brewed Coffee" "Brewed Coffee" ...
##  $ Beverage_prep      : chr  "Short" "Tall" "Grande" "Venti" ...
##  $ Calories           : int  3 4 5 5 70 100 70 100 150 110 ...
##  $ Total.Fat          : chr  "0.1" "0.1" "0.1" "0.1" ...
##  $ Trans.Fat          : num  0 0 0 0 0.1 2 0.4 0.2 3 0.5 ...
##  $ Saturated.Fat      : num  0 0 0 0 0 0.1 0 0 0.2 0 ...
##  $ Sodium             : int  0 0 0 0 5 15 0 5 25 0 ...
##  $ Total.Carbohydrates: int  5 10 10 10 75 85 65 120 135 105 ...
##  $ Cholesterol        : int  0 0 0 0 10 10 6 15 15 10 ...
##  $ Dietary.Fibre      : int  0 0 0 0 0 0 1 0 0 1 ...
##  $ Sugars             : int  0 0 0 0 9 9 4 14 14 6 ...
##  $ Protein            : num  0.3 0.5 1 1 6 6 5 10 10 8 ...
##  $ Vitamin.A          : chr  "0%" "0%" "0%" "0%" ...
##  $ Vitamin.C          : chr  "0%" "0%" "0%" "0%" ...
##  . ...                . ...  ...  ...  ...  ...  ...   
```

---

class: inverse, hide-logo

### Solution

#### 3) Use `summarise()` to compute for each beverage category the average number of calories and the number of different declinations (there is 1 row per declination)


```r
starbucks %&gt;%
  group_by(Beverage_category) %&gt;%
  summarise(Declinations = n(),
            Mean_cal = mean(Calories))
```

--


```
## # A tibble: 9 x 3
##   Beverage_category                 Declinations Mean_cal
##   &lt;chr&gt;                                    &lt;int&gt;    &lt;dbl&gt;
## 1 Classic Espresso Drinks                     58   140.  
## 2 Coffee                                       4     4.25
## 3 Frappuccino® Blended Coffee                 36   277.  
## 4 Frappuccino® Blended Crème                  13   233.  
## 5 Frappuccino® Light Blended Coffee           12   162.  
## 6 Shaken Iced Beverages                       18   114.  
## 7 Signature Espresso Drinks                   40   250   
## 8 Smoothies                                    9   282.  
## 9 Tazo® Tea Drinks                            52   177.
```

---

class: inverse, hide-logo

### Solution

#### 4) Create a subset of the data called `maxcal` containing the variables `Beverage_category`, `Beverage_prep`, and `Calories`, for the 10 observations with the highest calorie values


```r
maxcal &lt;- starbucks %&gt;%
  arrange(-Calories) %&gt;%
  select(Beverage_category, Beverage_prep, Calories) %&gt;%
  filter(row_number() &lt;= 10)

maxcal
```

--


```
##              Beverage_category     Beverage_prep Calories
## 1    Signature Espresso Drinks           2% Milk      510
## 2    Signature Espresso Drinks           Soymilk      460
## 3  Frappuccino® Blended Coffee        Whole Milk      460
## 4    Signature Espresso Drinks Venti Nonfat Milk      450
## 5             Tazo® Tea Drinks           2% Milk      450
## 6  Frappuccino® Blended Coffee           Soymilk      430
## 7  Frappuccino® Blended Coffee Venti Nonfat Milk      420
## 8    Signature Espresso Drinks           2% Milk      400
## 9             Tazo® Tea Drinks           Soymilk      390
## 10 Frappuccino® Blended Coffee        Whole Milk      390
```

---

&lt;h3&gt;Today we learn how to plot data&lt;/h3&gt;

&lt;p style = "margin-bottom:2.5cm;"&gt;&lt;/p&gt;

.pull-left[
&lt;p style = "margin-bottom:.75cm;"&gt;&lt;/p&gt;

&lt;ul style = "margin-left:1.5cm;list-style: none"&gt;
  &lt;li&gt;&lt;b&gt;1. The ggplot() function&lt;/b&gt;&lt;/li&gt;
  &lt;ul style = "list-style: none"&gt;
    &lt;li&gt;1.1. Basic structure&lt;/li&gt;
    &lt;li&gt;1.2. Axes&lt;/li&gt;
    &lt;li&gt;1.3. Theme&lt;/li&gt;
    &lt;li&gt;1.4. Annotation&lt;/li&gt;
  &lt;/ul&gt;
&lt;/ul&gt;

&lt;p style = "margin-bottom:1.75cm;"&gt;&lt;/p&gt;

&lt;ul style = "margin-left:1.5cm;list-style: none"&gt;
  &lt;li&gt;&lt;b&gt;2. Adding dimensions&lt;/b&gt;&lt;/li&gt;
  &lt;ul style = "list-style: none"&gt;
    &lt;li&gt;2.1. More axes&lt;/li&gt;
    &lt;li&gt;2.2. More facets&lt;/li&gt;
    &lt;li&gt;2.3. More labels&lt;/li&gt;
  &lt;/ul&gt;
&lt;/ul&gt;

]

.pull-right[

&lt;ul style = "margin-left:-1cm;list-style: none"&gt;
  &lt;li&gt;&lt;b&gt;3. Types of geometry&lt;/b&gt;&lt;/li&gt;
  &lt;ul style = "list-style: none"&gt;
    &lt;li&gt;3.1. Points and lines&lt;/li&gt;
    &lt;li&gt;3.2. Barplots and histograms&lt;/li&gt;
    &lt;li&gt;3.3. Densities and boxplots&lt;/li&gt;
  &lt;/ul&gt;
&lt;/ul&gt;

&lt;p style = "margin-bottom:1cm;"&gt;&lt;/p&gt;

&lt;ul style = "margin-left:-1cm;list-style: none"&gt;
  &lt;li&gt;&lt;b&gt;4. How (not) to lie with graphics&lt;/b&gt;&lt;/li&gt;
  &lt;ul style = "list-style: none"&gt;
    &lt;li&gt;4.1. Cumulative representations&lt;/li&gt;
    &lt;li&gt;4.2. Axis manipulations&lt;/li&gt;
    &lt;li&gt;4.3. Interpolation&lt;/li&gt;
  &lt;/ul&gt;
&lt;/ul&gt;
 
&lt;p style = "margin-bottom:1cm;"&gt;&lt;/p&gt;

&lt;ul style = "margin-left:-1cm;list-style: none"&gt;&lt;li&gt;&lt;b&gt;5. Wrap up!&lt;/b&gt;&lt;/li&gt;&lt;/ul&gt;
]

---

&lt;h3&gt;Today we learn how to plot data&lt;/h3&gt;

&lt;p style = "margin-bottom:2.5cm;"&gt;&lt;/p&gt;

.pull-left[
&lt;p style = "margin-bottom:.75cm;"&gt;&lt;/p&gt;

&lt;ul style = "margin-left:1.5cm;list-style: none"&gt;
  &lt;li&gt;&lt;b&gt;1. The ggplot() function&lt;/b&gt;&lt;/li&gt;
  &lt;ul style = "list-style: none"&gt;
    &lt;li&gt;1.1. Basic structure&lt;/li&gt;
    &lt;li&gt;1.2. Axes&lt;/li&gt;
    &lt;li&gt;1.3. Theme&lt;/li&gt;
    &lt;li&gt;1.4. Annotation&lt;/li&gt;
  &lt;/ul&gt;
&lt;/ul&gt;
]

---

### 1. The `ggplot()` function

#### 1.1. Basic structure

&lt;ul&gt;
  &lt;li&gt;Let's use &lt;b&gt;ggplot&lt;/b&gt; on data from the &lt;a href = "https://wid.world/"&gt;World Inequality database&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


```r
wid &lt;- read.csv("C:/User/Documents/wid.csv")
```



--

&lt;p style = "margin-bottom:-1cm;"&gt;&lt;/p&gt;


```r
str(wid)
```

```
## 'data.frame':	1610 obs. of  6 variables:
##  $ country  : chr  "Algeria" "Algeria" "Algeria" "Algeria" ...
##  $ continent: chr  "Africa" "Africa" "Africa" "Africa" ...
##  $ year     : int  2010 2011 2012 2013 2014 2015 2016 2017 2018 2019 ...
##  $ fshare   : num  0.0992 0.112 0.1201 0.1206 0.116 ...
##  $ top1     : num  0.1003 0.0991 0.0991 0.0991 0.0991 ...
##  $ inc_head : num  12611 12620 12634 12532 12546 ...
```

--

&lt;p style = "margin-bottom:1cm;"&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;It contains 1610 observations and 6 variables:&lt;/li&gt;
  &lt;ul&gt;
    &lt;li&gt;&lt;b&gt;continent/country/year&lt;/b&gt;: Observation level&lt;/li&gt;
    &lt;li&gt;&lt;b&gt;f_share&lt;/b&gt;: Female labor income share&lt;/li&gt;
    &lt;li&gt;&lt;b&gt;top1&lt;/b&gt;: Top 1% income share&lt;/li&gt;
    &lt;li&gt;&lt;b&gt;inc_head&lt;/b&gt;: Per adult national income&lt;/li&gt;
  &lt;/ul&gt;
&lt;/ul&gt;

---

### 1. The `ggplot()` function

#### 1.1. Basic structure

&lt;ul&gt;
  &lt;li&gt;&lt;b&gt;ggplot()&lt;/b&gt; from ggplot2 is what we're gonna use for all our plots&lt;/li&gt;
  &lt;li&gt;It takes the following &lt;b&gt;core arguments&lt;/b&gt;:&lt;/li&gt;
  &lt;ul&gt;
    &lt;li&gt;&lt;b&gt;Data&lt;/b&gt;: the values to plot&lt;/li&gt;
    &lt;li&gt;&lt;b&gt;Mapping&lt;/b&gt; (aes, for aesthetics): the structure of the plot&lt;/li&gt;
    &lt;li&gt;&lt;b&gt;Geometry&lt;/b&gt;: the type of plot&lt;/li&gt;
  &lt;/ul&gt;
&lt;/ul&gt;

&lt;p style = "margin-bottom:-1cm;"&gt;

&lt;center&gt;&lt;img src = "ggplot.png" width = "150" style="margin-left:17cm; margin-top:-8cm"/&gt;&lt;/center&gt;

--

&lt;p style = "margin-bottom:1cm;"&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;b&gt;Data and mapping&lt;/b&gt; should be specified within the &lt;b&gt;parentheses&lt;/b&gt;&lt;/li&gt;
  &lt;li&gt;&lt;b&gt;Geometry&lt;/b&gt; and any &lt;b&gt;other element&lt;/b&gt; should be added with a &lt;b&gt;+&lt;/b&gt; sign&lt;/li&gt;
&lt;/ul&gt;


```r
ggplot(data, aes()) + geometry + anything_else
```

--

&lt;p style = "margin-bottom:1.25cm;"&gt;&lt;/p&gt;

  * You can also **apply** the `ggplot()` function to your data with a **pipe**
  

```r
data %&gt;% ggplot(aes()) + geometry
```

---

### 1. The `ggplot()` function

#### 1.1. Basic structure
 

```r
ggplot(wid)                                         # Data
                                                    #
```

.left-column[
&lt;img src="slides_files/figure-html/unnamed-chunk-31-1.png" width="90%" style="display: block; margin: auto;" /&gt;
]

.right-column[

&lt;p style = "margin-bottom:1.5cm;"&gt;&lt;/p&gt;

&lt;ul style = "margin-left:-1cm"&gt;
  &lt;li&gt;We assigned data to ggplot()&lt;/li&gt;
  &lt;ul&gt;
    &lt;li&gt;But our plot is empty&lt;/li&gt;
  &lt;/ul&gt;
&lt;/ul&gt;

]


---

### 1. The `ggplot()` function

#### 1.1. Basic structure
 

```r
ggplot(wid, aes(x = inc_head, y = top1))            # Data &amp; aesthetics
                                                    #
```

.left-column[
&lt;img src="slides_files/figure-html/unnamed-chunk-33-1.png" width="90%" style="display: block; margin: auto;" /&gt;
]

.right-column[

&lt;p style = "margin-bottom:1.5cm;"&gt;&lt;/p&gt;

&lt;ul style = "margin-left:-1cm"&gt;
  &lt;li&gt;We assigned data to ggplot()&lt;/li&gt;
  &lt;ul&gt;
    &lt;li&gt;But our plot is empty&lt;/li&gt;
  &lt;/ul&gt;
&lt;/ul&gt;

&lt;p style = "margin-bottom:1.5cm;"&gt;&lt;/p&gt;

&lt;ul style = "margin-left:-1cm"&gt;
  &lt;li&gt;We assigned variables to axes&lt;/li&gt;
  &lt;ul&gt;
    &lt;li&gt;But still nothing&lt;/li&gt;
  &lt;/ul&gt;
&lt;/ul&gt;

]
---

### 1. The `ggplot()` function

#### 1.1. Basic structure
 

```r
ggplot(wid, aes(x = inc_head, y = top1)) +          # Data &amp; aesthetics
  geom_point()                                      # Geometry
```

.left-column[
&lt;img src="slides_files/figure-html/unnamed-chunk-35-1.png" width="90%" style="display: block; margin: auto;" /&gt;
]

.right-column[

&lt;p style = "margin-bottom:1.5cm;"&gt;&lt;/p&gt;

&lt;ul style = "margin-left:-1cm"&gt;
  &lt;li&gt;We assigned data to ggplot()&lt;/li&gt;
  &lt;ul&gt;
    &lt;li&gt;But our plot is empty&lt;/li&gt;
  &lt;/ul&gt;
&lt;/ul&gt;

&lt;p style = "margin-bottom:1.5cm;"&gt;&lt;/p&gt;

&lt;ul style = "margin-left:-1cm"&gt;
  &lt;li&gt;We assigned variables to axes&lt;/li&gt;
  &lt;ul&gt;
    &lt;li&gt;But still nothing&lt;/li&gt;
  &lt;/ul&gt;
&lt;/ul&gt;

&lt;p style = "margin-bottom:1.5cm;"&gt;&lt;/p&gt;

&lt;ul style = "margin-left:-1cm"&gt;
  &lt;li&gt;We need a geometry&lt;/li&gt;
  &lt;ul&gt;
    &lt;li&gt;Points for instance&lt;/li&gt;
  &lt;/ul&gt;
&lt;/ul&gt;

]

---

### 1. The `ggplot()` function

#### 1.1. Basic structure

&lt;ul&gt;
  &lt;li&gt;You can the save the plot using the &lt;b&gt;ggsave()&lt;/b&gt; function&lt;/li&gt;
  &lt;ul&gt;
    &lt;li&gt;You just need to specify the &lt;b&gt;output destination&lt;/b&gt; and it will &lt;b&gt;save&lt;/b&gt; what is in your &lt;b&gt;plot panel&lt;/b&gt;&lt;/li&gt;
  &lt;/ul&gt;
&lt;/ul&gt;

&lt;p style = "margin-bottom:1.25cm;"&gt;&lt;/p&gt;

--


```r
ggsave("C:/User/Documents/wid.png")
```

--

&lt;p style = "margin-bottom:1.25cm;"&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;You can also &lt;b&gt;modify&lt;/b&gt; the following options, which take the &lt;b&gt;parameters of your plot&lt;/b&gt; panel if unspecified:&lt;/li&gt;
  &lt;ul&gt;
    &lt;li&gt;&lt;b&gt;plot:&lt;/b&gt; ggplot object&lt;/li&gt;
    &lt;li&gt;&lt;b&gt;width:&lt;/b&gt; width of the plot&lt;/li&gt;
    &lt;li&gt;&lt;b&gt;height:&lt;/b&gt; height of the plot&lt;/li&gt;
    &lt;li&gt;&lt;b&gt;unit:&lt;/b&gt; unit of the plot size ("in", "cm", "mm", "px")&lt;/li&gt;
    &lt;li&gt;&lt;b&gt;dpi:&lt;/b&gt; pixel density, default to 300px/in&lt;/li&gt;
  &lt;/ul&gt;
&lt;/ul&gt;

--

&lt;p style = "margin-bottom:1.25cm;"&gt;&lt;/p&gt;


```r
ggsave("wid.png", plot = last_plot(), width = 16, height = 9, unit = "cm", dpi = 900)
```

---

### 1. The `ggplot()` function

#### 1.2. Axes 

&lt;ul&gt;
  &lt;li&gt;Axes can be modified with &lt;b&gt;scale functions&lt;/b&gt;, whose names depend on:&lt;/li&gt;
  &lt;ul&gt;
    &lt;li&gt;The axis to modify&lt;/li&gt;
    &lt;li&gt;The type of variable assigned to the axis&lt;/li&gt;
  &lt;/ul&gt;
&lt;/ul&gt;

&lt;p style = "margin-bottom:1.25cm;"&gt;

--

&lt;table class="table table-hover table-condensed" style="width: auto !important; margin-left: auto; margin-right: auto;"&gt;
&lt;caption&gt;Basic scale functions&lt;/caption&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;text-align: center;"&gt; Axis &lt;/th&gt;
   &lt;th style="text-align:left;text-align: center;"&gt; x-axis &lt;/th&gt;
   &lt;th style="text-align:left;text-align: center;"&gt; y-axis &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Continuous &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; scale_x_continuous() &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; scale_y_continuous() &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Discrete &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; scale_x_discrete() &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; scale_y_discrete() &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

--

&lt;p style = "margin-bottom:1.25cm;"&gt;

&lt;ul&gt;
  &lt;li&gt; The following &lt;b&gt;parameters&lt;/b&gt; can be modified in these scale functions:&lt;/li&gt;
  &lt;ul&gt;
    &lt;li&gt; &lt;b&gt;name:&lt;/b&gt; The label of the corresponding axis &lt;/li&gt;
    &lt;li&gt; &lt;b&gt;limits:&lt;/b&gt; Where the axis should start and end &lt;/li&gt;
    &lt;li&gt; &lt;b&gt;breaks:&lt;/b&gt; Where to put ticks and values on the axis &lt;/li&gt;
  &lt;/ul&gt;
&lt;/ul&gt;

---

### 1. The `ggplot()` function

#### 1.2. Axes 


```r
ggplot(wid, aes(x = inc_head, y = top1)) + geom_point()                 # Basic structure
                                                                        #
```

&lt;img src="slides_files/figure-html/unnamed-chunk-40-1.png" width="60%" style="display: block; margin: auto;" /&gt;

---

### 1. The `ggplot()` function

#### 1.2. Axes 


```r
ggplot(wid, aes(x = inc_head, y = top1)) + geom_point() +               # Basic structure
*  scale_x_continuous(name = "Income per adult", limits = c(0, 150000))  # Scale function
```

&lt;img src="slides_files/figure-html/unnamed-chunk-42-1.png" width="60%" style="display: block; margin: auto;" /&gt;

---

### 1. The `ggplot()` function

#### 1.3. Theme()

&lt;ul&gt;
  &lt;li&gt;You can use one of the &lt;b&gt;default R themes&lt;/b&gt; to easily change the layout of your plot&lt;/li&gt;
  &lt;ul&gt;
    &lt;li&gt; ... + theme_&lt;b&gt;bw&lt;/b&gt;()&lt;/li&gt;
    &lt;li&gt; ... + theme_&lt;b&gt;minimal&lt;/b&gt;()&lt;/li&gt;
    &lt;li&gt; ... + theme_&lt;b&gt;dark&lt;/b&gt;()&lt;/li&gt;
    &lt;li&gt;You can also tune the &lt;b&gt;font size&lt;/b&gt; inside these functions with the &lt;b&gt;base_size&lt;/b&gt; argument&lt;/li&gt;
  &lt;/ul&gt;
&lt;/ul&gt;

--

&lt;img src="slides_files/figure-html/unnamed-chunk-43-1.png" width="100%" style="display: block; margin: auto;" /&gt;

---

### 1. The `ggplot()` function

#### 1.3. Theme()

&lt;ul&gt;
  &lt;li&gt;You can also custom your graph using the &lt;b&gt;theme()&lt;/b&gt; function&lt;/li&gt;
  &lt;ul&gt;
    &lt;li&gt;It allows to &lt;b&gt;custom&lt;/b&gt; virtually &lt;b&gt;anything&lt;/b&gt;&lt;/li&gt;
    &lt;li&gt;Enter ?theme to see the &lt;b&gt;endless&lt;/b&gt; list of possible &lt;b&gt;arguments&lt;/b&gt;&lt;/li&gt;
    &lt;li&gt;Obviously we won't go through all of them but here are a few&lt;/li&gt;
  &lt;/ul&gt;
&lt;/ul&gt;
 
&lt;p style = "margin-bottom:1cm;"&gt;

--


```r
  # Basic structure
ggplot(wid, aes(x = inc_head, y = top1)) + geom_point() + 
  # Axis
  scale_x_continuous(name = "Income per adult", limits = c(0, 150000)) +
  # Theme
  theme_minimal(base_size = 14) + 
* theme(# Color of the background and of its border
*       plot.background = element_rect(fill = "#DFE6EB", colour = "#DFE6EB"),
*       # Size of the axis lines
*       axis.line = element_line(size = rel(0.8)),
*       # Color of the grid lines
*       panel.grid = element_line(color = "gray85"))  
```

---

### 1. The `ggplot()` function

#### 1.3. Theme()

&lt;img src="slides_files/figure-html/unnamed-chunk-45-1.png" width="75%" style="display: block; margin: auto;" /&gt;

---

### 1. The `ggplot()` function

#### 1.3. Theme()

&lt;ul&gt;
  &lt;li&gt;Geometries can also be modified&lt;/li&gt;
  &lt;ul&gt;
    &lt;li&gt;&lt;b&gt;alpha:&lt;/b&gt; opacity from 0 to 1&lt;/li&gt;
    &lt;li&gt;&lt;b&gt;color:&lt;/b&gt; color of the geometry (for geometries that are filled such as bars, it will color the border)&lt;/li&gt;
    &lt;li&gt;&lt;b&gt;fill:&lt;/b&gt; fill color for geometries such as bars&lt;/li&gt;
    &lt;li&gt;&lt;b&gt;size:&lt;/b&gt; size of the geometry&lt;/li&gt;
    &lt;li&gt;&lt;b&gt;shape:&lt;/b&gt; change shape for geometries like points&lt;/li&gt;
    &lt;li&gt;&lt;b&gt;linetype:&lt;/b&gt; solid, dashed, dotted, etc., for line geometries&lt;/li&gt;
    &lt;li&gt;...&lt;/li&gt;
  &lt;/ul&gt;
&lt;/ul&gt;

--

&lt;p style = "margin-bottom:-1cm;"&gt;

.pull-left[
&lt;p style = "margin-bottom:1.5cm;"&gt;

```r
ggplot(wid, aes(x = inc_head, y = top1)) + 
  geom_point(size = 3, 
             color = "#6794A7",
             alpha = .3,
             shape = 18)  +
  theme_minimal(base_size = 14)
```

]

--

.pull-right[
&lt;img src="slides_files/figure-html/unnamed-chunk-47-1.png" width="75%" style="display: block; margin: auto;" /&gt;
]

---

### 1. The `ggplot()` function

#### 1.4. Annotation

&lt;p style = "margin-bottom:.5cm;"&gt;

--

&lt;ul&gt;
  &lt;li&gt;It is sometimes useful to &lt;b&gt;annotate&lt;/b&gt; a graph so that certain things become &lt;b&gt;more salient&lt;/b&gt;&lt;/li&gt;
  &lt;ul&gt;
    &lt;li&gt;&lt;b&gt;Separate&lt;/b&gt; two groups with a &lt;b&gt;dashed line&lt;/b&gt;&lt;/li&gt;
    &lt;li&gt;Add a few &lt;b&gt;words somewhere&lt;/b&gt; for clarity&lt;/li&gt;
    &lt;li&gt;&lt;b&gt;Circle&lt;/b&gt; a specific group of &lt;b&gt;data points&lt;/b&gt;&lt;/li&gt;
    &lt;li&gt;Add &lt;b&gt;labels&lt;/b&gt; to data points&lt;/li&gt;
  &lt;/ul&gt;
&lt;/ul&gt;

--

&lt;p style = "margin-bottom:1cm;"&gt;

 * **Straight lines** can easily be added with their respective geometry
 

```r
+ geom_hline(yintercept = , linetype = )
```
 

```r
+ geom_vline(xintercept = , linetype = )
```

--

&lt;p style = "margin-bottom:1cm;"&gt;

 * And **punctual text annotations** can be added with `annotate()`
 

```r
+ annotate("text", x = , y = , label = )
```

---

### 1. The `ggplot()` function

#### 1.4. Annotation: Adding lines

--

.pull-left[

```r
ggplot(wid, aes(x = inc_head, y = top1)) + 
  geom_point(size = 2, alpha = .3) + 
  geom_hline(yintercept = .17)
```

&lt;p style = "margin-bottom:1.14cm;"&gt;

&lt;img src="slides_files/figure-html/unnamed-chunk-52-1.png" width="100%" style="display: block; margin: auto;" /&gt;
]

--

.pull-right[

```r
ggplot(wid, aes(x = inc_head, y = top1)) + 
  geom_point(size = 2, alpha = .3) + 
  geom_vline(xintercept = 90000, 
             linetype = "dashed")
```

&lt;img src="slides_files/figure-html/unnamed-chunk-53-1.png" width="100%" style="display: block; margin: auto;" /&gt;
]

---

### 1. The `ggplot()` function

#### 1.4. Annotation: Adding text


```r
ggplot(wid, aes(x = inc_head, y = top1)) + geom_point(size = 2, alpha = .3) + 
  annotate("text", x = 125000, y = .28, label = "Relevant info", size = 5)
```
--
&lt;img src="slides_files/figure-html/unnamed-chunk-55-1.png" width="60%" style="display: block; margin: auto;" /&gt;

---

### 1. The `ggplot()` function

&lt;center&gt;&lt;b&gt;Combining everything&lt;/b&gt;&lt;/center&gt;


```r
ggplot(wid, aes(x = inc_head, y = top1))
                                                                                                #
                                                                                                #
                                                                                                #
                                                                                                #
                                                                                                #
                                                                                                #
                                                                                                #
```

&lt;img src="slides_files/figure-html/unnamed-chunk-57-1.png" width="40%" style="display: block; margin: auto;" /&gt;

---

### 1. The `ggplot()` function

&lt;center&gt;&lt;b&gt;Combining everything&lt;/b&gt;&lt;/center&gt;


```r
ggplot(wid, aes(x = inc_head, y = top1)) + 
  geom_point(size = 3,  color = "#6794A7", alpha = .3, shape = 18)
                                                                                                 #
                                                                                                 #
                                                                                                 #
                                                                                                 #
                                                                                                 #
                                                                                                 #
```

&lt;img src="slides_files/figure-html/unnamed-chunk-59-1.png" width="40%" style="display: block; margin: auto;" /&gt;

---

### 1. The `ggplot()` function

&lt;center&gt;&lt;b&gt;Combining everything&lt;/b&gt;&lt;/center&gt;


```r
ggplot(wid, aes(x = inc_head, y = top1)) + 
  geom_point(size = 3,  color = "#6794A7", alpha = .3, shape = 18) +
  geom_vline(xintercept = 90000, linetype = "dashed", size = 1, color = "#727272")
                                                                                                 #
                                                                                                 #
                                                                                                 #
                                                                                                 #
                                                                                                 #
```

&lt;img src="slides_files/figure-html/unnamed-chunk-61-1.png" width="40%" style="display: block; margin: auto;" /&gt;

---

### 1. The `ggplot()` function

&lt;center&gt;&lt;b&gt;Combining everything&lt;/b&gt;&lt;/center&gt;


```r
ggplot(wid, aes(x = inc_head, y = top1)) + 
  geom_point(size = 3,  color = "#6794A7", alpha = .3, shape = 18) +
  geom_vline(xintercept = 90000, linetype = "dashed", size = 1, color = "#727272") +
  annotate("text", x = 125000, y = .2, label = "Outliers", size = 5, color = "#505050")
                                                                                                 #
                                                                                                 #
                                                                                                 #
                                                                                                 #
```

&lt;img src="slides_files/figure-html/unnamed-chunk-63-1.png" width="40%" style="display: block; margin: auto;" /&gt;

---

### 1. The `ggplot()` function

&lt;center&gt;&lt;b&gt;Combining everything&lt;/b&gt;&lt;/center&gt;


```r
ggplot(wid, aes(x = inc_head, y = top1)) + 
  geom_point(size = 3,  color = "#6794A7", alpha = .3, shape = 18) +
  geom_vline(xintercept = 90000, linetype = "dashed", size = 1, color = "#727272") +
  annotate("text", x = 125000, y = .2, label = "Outliers", size = 5, color = "#505050") +
  scale_x_continuous(name = "Income per adult", limits = c(0, 150000))
                                                                                                 #
                                                                                                 #
                                                                                                 #
```

&lt;img src="slides_files/figure-html/unnamed-chunk-65-1.png" width="40%" style="display: block; margin: auto;" /&gt;

---

### 1. The `ggplot()` function

&lt;center&gt;&lt;b&gt;Combining everything&lt;/b&gt;&lt;/center&gt;


```r
ggplot(wid, aes(x = inc_head, y = top1)) + 
  geom_point(size = 3,  color = "#6794A7", alpha = .3, shape = 18) +
  geom_vline(xintercept = 90000, linetype = "dashed", size = 1, color = "#727272") +
  annotate("text", x = 125000, y = .2, label = "Outliers", size = 5, color = "#505050") +
  scale_x_continuous(name = "Income per adult", limits = c(0, 150000)) +
  scale_y_continuous(name = "Top 1% inc. share", limits = c(0, .35))
                                                                                                 #
                                                                                                 #
```

&lt;img src="slides_files/figure-html/unnamed-chunk-67-1.png" width="40%" style="display: block; margin: auto;" /&gt;

---

### 1. The `ggplot()` function

&lt;center&gt;&lt;b&gt;Combining everything&lt;/b&gt;&lt;/center&gt;


```r
ggplot(wid, aes(x = inc_head, y = top1)) + 
  geom_point(size = 3,  color = "#6794A7", alpha = .3, shape = 18) +
  geom_vline(xintercept = 90000, linetype = "dashed", size = 1, color = "#727272") +
  annotate("text", x = 125000, y = .2, label = "Outliers", size = 5, color = "#505050") +
  scale_x_continuous(name = "Income per adult", limits = c(0, 150000)) +
  scale_y_continuous(name = "Top 1% inc. share", limits = c(0, .35)) +
  theme_minimal(base_size = 14)
                                                                                                 #
```

&lt;img src="slides_files/figure-html/unnamed-chunk-69-1.png" width="40%" style="display: block; margin: auto;" /&gt;

---

### 1. The `ggplot()` function

&lt;center&gt;&lt;b&gt;Combining everything&lt;/b&gt;&lt;/center&gt;


```r
ggplot(wid, aes(x = inc_head, y = top1)) + 
  geom_point(size = 3,  color = "#6794A7", alpha = .3, shape = 18) +
  geom_vline(xintercept = 90000, linetype = "dashed", size = 1, color = "#727272") +
  annotate("text", x = 125000, y = .2, label = "Outliers", size = 5, color = "#505050") +
  scale_x_continuous(name = "Income per adult", limits = c(0, 150000)) +
  scale_y_continuous(name = "Top 1% inc. share", limits = c(0, .35)) +
  theme_minimal(base_size = 14) + 
  theme(plot.background = element_rect(fill = "#DFE6EB", colour = "#DFE6EB")) 
```

&lt;img src="slides_files/figure-html/unnamed-chunk-71-1.png" width="40%" style="display: block; margin: auto;" /&gt;

---

&lt;h3&gt;Overview&lt;/h3&gt;

&lt;p style = "margin-bottom:2.5cm;"&gt;&lt;/p&gt;

.pull-left[
&lt;p style = "margin-bottom:.75cm;"&gt;&lt;/p&gt;

&lt;ul style = "margin-left:1.5cm;list-style: none"&gt;
  &lt;li&gt;&lt;b&gt;1. The ggplot() function &amp;#10004;&lt;/b&gt;&lt;/li&gt;
  &lt;ul style = "list-style: none"&gt;
    &lt;li&gt;1.1. Basic structure&lt;/li&gt;
    &lt;li&gt;1.2. Axes&lt;/li&gt;
    &lt;li&gt;1.3. Theme&lt;/li&gt;
    &lt;li&gt;1.4. Annotation&lt;/li&gt;
  &lt;/ul&gt;
&lt;/ul&gt;

&lt;p style = "margin-bottom:1.75cm;"&gt;&lt;/p&gt;

&lt;ul style = "margin-left:1.5cm;list-style: none"&gt;
  &lt;li&gt;&lt;b&gt;2. Adding dimensions&lt;/b&gt;&lt;/li&gt;
  &lt;ul style = "list-style: none"&gt;
    &lt;li&gt;2.1. More axes&lt;/li&gt;
    &lt;li&gt;2.2. More facets&lt;/li&gt;
    &lt;li&gt;2.3. More labels&lt;/li&gt;
  &lt;/ul&gt;
&lt;/ul&gt;

]

.pull-right[

&lt;ul style = "margin-left:-1cm;list-style: none"&gt;
  &lt;li&gt;&lt;b&gt;3. Types of geometry&lt;/b&gt;&lt;/li&gt;
  &lt;ul style = "list-style: none"&gt;
    &lt;li&gt;3.1. Points and lines&lt;/li&gt;
    &lt;li&gt;3.2. Barplots and histograms&lt;/li&gt;
    &lt;li&gt;3.3. Densities and boxplots&lt;/li&gt;
  &lt;/ul&gt;
&lt;/ul&gt;

&lt;p style = "margin-bottom:1cm;"&gt;&lt;/p&gt;

&lt;ul style = "margin-left:-1cm;list-style: none"&gt;
  &lt;li&gt;&lt;b&gt;4. How (not) to lie with graphics&lt;/b&gt;&lt;/li&gt;
  &lt;ul style = "list-style: none"&gt;
    &lt;li&gt;4.1. Cumulative representations&lt;/li&gt;
    &lt;li&gt;4.2. Axis manipulations&lt;/li&gt;
    &lt;li&gt;4.3. Interpolation&lt;/li&gt;
  &lt;/ul&gt;
&lt;/ul&gt;
 
&lt;p style = "margin-bottom:1cm;"&gt;&lt;/p&gt;

&lt;ul style = "margin-left:-1cm;list-style: none"&gt;&lt;li&gt;&lt;b&gt;5. Wrap up!&lt;/b&gt;&lt;/li&gt;&lt;/ul&gt;
]

---

&lt;h3&gt;Overview&lt;/h3&gt;

&lt;p style = "margin-bottom:2.5cm;"&gt;&lt;/p&gt;

.pull-left[
&lt;p style = "margin-bottom:.75cm;"&gt;&lt;/p&gt;

&lt;ul style = "margin-left:1.5cm;list-style: none"&gt;
  &lt;li&gt;&lt;b&gt;1. The ggplot() function &amp;#10004;&lt;/b&gt;&lt;/li&gt;
  &lt;ul style = "list-style: none"&gt;
    &lt;li&gt;1.1. Basic structure&lt;/li&gt;
    &lt;li&gt;1.2. Axes&lt;/li&gt;
    &lt;li&gt;1.3. Theme&lt;/li&gt;
    &lt;li&gt;1.4. Annotation&lt;/li&gt;
  &lt;/ul&gt;
&lt;/ul&gt;

&lt;p style = "margin-bottom:1.75cm;"&gt;&lt;/p&gt;

&lt;ul style = "margin-left:1.5cm;list-style: none"&gt;
  &lt;li&gt;&lt;b&gt;2. Adding dimensions&lt;/b&gt;&lt;/li&gt;
  &lt;ul style = "list-style: none"&gt;
    &lt;li&gt;2.1. More axes&lt;/li&gt;
    &lt;li&gt;2.2. More facets&lt;/li&gt;
    &lt;li&gt;2.3. More labels&lt;/li&gt;
  &lt;/ul&gt;
&lt;/ul&gt;

]

---

### 2. Adding dimensions

#### 2.1. More axes

&lt;ul&gt;
  &lt;li&gt;In some cases you may want to &lt;b&gt;convey information&lt;/b&gt; using other means than position on an axis&lt;/li&gt;
  &lt;ul&gt;
    &lt;li&gt;The &lt;b&gt;color, size, or shape&lt;/b&gt; of a geometry can be used to represent a &lt;b&gt;third variable&lt;/b&gt;&lt;/li&gt;
  &lt;/ul&gt;
&lt;/ul&gt;


--

&lt;ul&gt;
  &lt;li&gt;We can assign &lt;b&gt;different colors to different points&lt;/b&gt; depending on the associated continent&lt;/li&gt;
  &lt;ul&gt;
    &lt;li&gt;Continent should be assigned to the &lt;i&gt;"color axis"&lt;/i&gt; in &lt;b&gt;aes()&lt;/b&gt;&lt;/li&gt;
  &lt;/ul&gt;
&lt;/ul&gt;

--


```r
ggplot(wid, aes(x = inc_head, y = top1, color = continent)) + geom_point(alpha = .3) 
```

&lt;img src="slides_files/figure-html/unnamed-chunk-72-1.png" width="40%" style="display: block; margin: auto;" /&gt;

---

### 2. Adding dimensions

#### 2.1. More axes

 * If the variable assigned to the color axis is continuous, a color gradient will be used
 
--


```r
ggplot(wid, aes(x = inc_head, y = top1, color = fshare)) + geom_point(alpha = .3)
```

&lt;img src="slides_files/figure-html/unnamed-chunk-73-1.png" width="55%" style="display: block; margin: auto;" /&gt;

---

### 2. Adding dimensions

#### 2.1. More axes

&lt;ul&gt;
  &lt;li&gt;Because there is no proper &lt;i&gt;"color axis"&lt;/i&gt;, a &lt;b&gt;legend&lt;/b&gt; is generated&lt;/li&gt;
  &lt;ul&gt;
    &lt;li&gt;It can be seen as a &lt;i&gt;"color"&lt;/i&gt; axis, just like the x- and y-axis&lt;/li&gt;
    &lt;li&gt;And should then be modified with a &lt;b&gt;&lt;i&gt;scale&lt;/i&gt; function&lt;/b&gt;&lt;/li&gt;
  &lt;/ul&gt;
&lt;/ul&gt;

--

&lt;p style = "margin-bottom:1.5cm;"&gt;&lt;/p&gt;

.pull-left[
&lt;center&gt;&lt;b&gt;Discrete color variable&lt;/b&gt;&lt;/center&gt;

```r
plot + scale_color_manual(
  name = "Title", values = c("red", "blue")
)
```
]
.pull-right[
&lt;center&gt;&lt;b&gt;Continuous color variable&lt;/b&gt;&lt;/center&gt;

```r
plot + scale_color_gradient(
  name = "Title", low = "red", high = "blue"
)
```
]

&lt;p style = "margin-bottom:1.5cm;"&gt;&lt;/p&gt;

--

&lt;ul&gt;
  &lt;li&gt;But color is not the only &lt;b&gt;property&lt;/b&gt; that can be used as a &lt;b&gt;dimension&lt;/b&gt;, you can use:&lt;/li&gt;
  &lt;ul&gt;
    &lt;li&gt;&lt;b&gt;size, shape, alpha&lt;/b&gt;, ...&lt;/li&gt;
    &lt;li&gt;&lt;b&gt;fill, linetype&lt;/b&gt;, ..., for relevant geometries&lt;/li&gt;
  &lt;/ul&gt;
&lt;/ul&gt;

---

.pull-left[
&lt;img src="slides_files/figure-html/unnamed-chunk-76-1.png" width="100%" style="display: block; margin: auto;" /&gt;

&lt;img src="slides_files/figure-html/unnamed-chunk-77-1.png" width="100%" style="display: block; margin: auto;" /&gt;
]

.pull-right[
&lt;img src="slides_files/figure-html/unnamed-chunk-78-1.png" width="100%" style="display: block; margin: auto;" /&gt;

&lt;img src="slides_files/figure-html/unnamed-chunk-79-1.png" width="100%" style="display: block; margin: auto;" /&gt;
]

---

### 2. Adding dimensions

#### 2.2. More facets

&lt;ul&gt;
  &lt;li&gt;Another way to &lt;b&gt;distinguish groups&lt;/b&gt; is to divide the plot into &lt;b&gt;facets&lt;/b&gt;&lt;/li&gt;
  &lt;ul&gt;
    &lt;li&gt;To do so, indicate your faceting variable into the &lt;b&gt;facet_wrap()&lt;/b&gt; function&lt;/li&gt;
  &lt;/ul&gt;
&lt;/ul&gt;

--

 * In `facet_wrap()`, the faceting variable must be preceded by a tilde as the first argument:

--


```r
ggplot(wid, aes(x = inc_head, y = top1)) + geom_point() +
* facet_wrap(~continent)
```

--

&lt;ul&gt;
  &lt;li&gt;You can then choose the facet arrangement:&lt;/li&gt;
  &lt;ul&gt;
    &lt;li&gt;&lt;b&gt;nrow&lt;/b&gt; to indicate the number of rows&lt;/li&gt;
    &lt;li&gt;&lt;b&gt;ncol&lt;/b&gt; to indicate the number of columns&lt;/li&gt;
  &lt;/ul&gt;
&lt;/ul&gt;

--

.pull-left[
&lt;p style = "margin-bottom:1cm;"&gt;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;As well as which &lt;b&gt;scale&lt;/b&gt; should be:&lt;/li&gt;
  &lt;ul&gt;
    &lt;li&gt;&lt;b&gt;free:&lt;/b&gt; adjusted separately to each facet&lt;/li&gt;
    &lt;li&gt;&lt;b&gt;fixed:&lt;/b&gt; common to all facets&lt;/li&gt;
  &lt;/ul&gt;
&lt;/ul&gt;
]

.pull-right[
&lt;p style = "margin-bottom:-1cm;"&gt;&lt;/p&gt;
&lt;table class="table table-hover table-condensed" style="width: auto !important; margin-left: auto; margin-right: auto;"&gt;
&lt;caption&gt;scales argument in facet_wrap()&lt;/caption&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;text-align: center;"&gt;   &lt;/th&gt;
   &lt;th style="text-align:left;text-align: center;"&gt; x fixed &lt;/th&gt;
   &lt;th style="text-align:left;text-align: center;"&gt; x free &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;font-weight: bold;"&gt; y fixed &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; scales = "fixed" &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; scales = "free_x" &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;font-weight: bold;"&gt; y free &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; scales = "free_y" &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; scales = "free" &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
]

---

### 2. Adding dimensions

#### 2.2. More facets


```r
ggplot(wid, aes(x = inc_head, y = top1)) + geom_point(alpha = .3) +
  facet_wrap(~continent, ncol = 3, scales = "free_x")
```

--

&lt;img src="slides_files/figure-html/unnamed-chunk-83-1.png" width="60%" style="display: block; margin: auto;" /&gt;

---

### 2. Adding dimensions

#### 2.3. More labels

&lt;ul&gt;
  &lt;li&gt;The last dimension I want to mention is the &lt;b&gt;&lt;i&gt;label&lt;/i&gt; axis&lt;/b&gt;&lt;/li&gt;
  &lt;ul&gt;
    &lt;li&gt;When using &lt;b&gt;geom_text()&lt;/b&gt; instead of geom_point(), it will plot the corresponding &lt;b&gt;text instead of points&lt;/b&gt;&lt;/li&gt;
  &lt;/ul&gt;
&lt;/ul&gt;

--


```r
ggplot(wid %&gt;% filter(year == 2019 &amp; continent == "Europe"), # subset so that we can see something
```
&lt;p style = "margin-top:-1cm"&gt;&lt;/p&gt;
--

```r
  aes(x = inc_head, y = top1, label = country)) + geom_text(alpha = .6)
```

--

&lt;img src="slides_files/figure-html/unnamed-chunk-86-1.png" width="48%" style="display: block; margin: auto;" /&gt;

---

class: inverse, hide-logo

### Practice

#### 1) Reproduce this graph with the `starbucks` dataset

&lt;img src="slides_files/figure-html/unnamed-chunk-87-1.png" width="70%" style="display: block; margin: auto;" /&gt;

--

&lt;p style = "margin-bottom:1cm;"&gt;&lt;/p&gt;

&lt;center&gt;&lt;h3&gt;&lt;i&gt;You've got 10 minutes!&lt;/i&gt;&lt;/h3&gt;&lt;/center&gt;

<div class="countdown" id="timer_c867c066" data-update-every="1" data-start-immediately="true" tabindex="0" style="top:0;right:0;">
<div class="countdown-controls"><button class="countdown-bump-down">&minus;</button><button class="countdown-bump-up">&plus;</button></div>
<code class="countdown-time"><span class="countdown-digits minutes">10</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>

---

class: inverse, hide-logo

### Solution


```r
ggplot(starbucks, 
       aes(x = Calories, y = Cholesterol)) 
                                                                                                 #
                                                                                                 #
                                                                                                 #
```

&lt;img src="slides_files/figure-html/unnamed-chunk-89-1.png" width="70%" style="display: block; margin: auto;" /&gt;

---

class: inverse, hide-logo

### Solution


```r
ggplot(starbucks, 
       aes(x = Calories, y = Cholesterol)) +
  geom_point()
                                                                                                 #
                                                                                                 #
```

&lt;img src="slides_files/figure-html/unnamed-chunk-91-1.png" width="70%" style="display: block; margin: auto;" /&gt;

---

class: inverse, hide-logo

### Solution


```r
ggplot(starbucks, 
       aes(x = Calories, y = Cholesterol, size = Trans.Fat, color = Sugars)) +
  geom_point()
                                                                                                 #
                                                                                                 #
```

&lt;img src="slides_files/figure-html/unnamed-chunk-93-1.png" width="70%" style="display: block; margin: auto;" /&gt;

---

class: inverse, hide-logo

### Solution


```r
ggplot(starbucks, 
       aes(x = Calories, y = Cholesterol, size = Trans.Fat, color = Sugars)) +
  geom_point(alpha = .3) + 
  scale_color_gradient(low = "green", high = "red")
                                                                                                 #
```

&lt;img src="slides_files/figure-html/unnamed-chunk-95-1.png" width="70%" style="display: block; margin: auto;" /&gt;

---

class: inverse, hide-logo

### Solution


```r
ggplot(starbucks, 
       aes(x = Calories, y = Cholesterol, size = Trans.Fat, color = Sugars)) +
  geom_point(alpha = .3) + 
  scale_color_gradient(low = "green", high = "red") +
  theme_minimal(base_size = 14)
```

&lt;img src="slides_files/figure-html/unnamed-chunk-97-1.png" width="70%" style="display: block; margin: auto;" /&gt;

---

&lt;h3&gt;Overview&lt;/h3&gt;

&lt;p style = "margin-bottom:2.5cm;"&gt;&lt;/p&gt;

.pull-left[
&lt;p style = "margin-bottom:.75cm;"&gt;&lt;/p&gt;

&lt;ul style = "margin-left:1.5cm;list-style: none"&gt;
  &lt;li&gt;&lt;b&gt;1. The ggplot() function &amp;#10004;&lt;/b&gt;&lt;/li&gt;
  &lt;ul style = "list-style: none"&gt;
    &lt;li&gt;1.1. Basic structure&lt;/li&gt;
    &lt;li&gt;1.2. Axes&lt;/li&gt;
    &lt;li&gt;1.3. Theme&lt;/li&gt;
    &lt;li&gt;1.4. Annotation&lt;/li&gt;
  &lt;/ul&gt;
&lt;/ul&gt;

&lt;p style = "margin-bottom:1.75cm;"&gt;&lt;/p&gt;

&lt;ul style = "margin-left:1.5cm;list-style: none"&gt;
  &lt;li&gt;&lt;b&gt;2. Adding dimensions &amp;#10004;&lt;/b&gt;&lt;/li&gt;
  &lt;ul style = "list-style: none"&gt;
    &lt;li&gt;2.1. More axes&lt;/li&gt;
    &lt;li&gt;2.2. More facets&lt;/li&gt;
    &lt;li&gt;2.3. More labels&lt;/li&gt;
  &lt;/ul&gt;
&lt;/ul&gt;

]

.pull-right[

&lt;ul style = "margin-left:-1cm;list-style: none"&gt;
  &lt;li&gt;&lt;b&gt;3. Types of geometry&lt;/b&gt;&lt;/li&gt;
  &lt;ul style = "list-style: none"&gt;
    &lt;li&gt;3.1. Points and lines&lt;/li&gt;
    &lt;li&gt;3.2. Barplots and histograms&lt;/li&gt;
    &lt;li&gt;3.3. Densities and boxplots&lt;/li&gt;
  &lt;/ul&gt;
&lt;/ul&gt;

&lt;p style = "margin-bottom:1cm;"&gt;&lt;/p&gt;

&lt;ul style = "margin-left:-1cm;list-style: none"&gt;
  &lt;li&gt;&lt;b&gt;4. How (not) to lie with graphics&lt;/b&gt;&lt;/li&gt;
  &lt;ul style = "list-style: none"&gt;
    &lt;li&gt;4.1. Cumulative representations&lt;/li&gt;
    &lt;li&gt;4.2. Axis manipulations&lt;/li&gt;
    &lt;li&gt;4.3. Interpolation&lt;/li&gt;
  &lt;/ul&gt;
&lt;/ul&gt;
 
&lt;p style = "margin-bottom:1cm;"&gt;&lt;/p&gt;

&lt;ul style = "margin-left:-1cm;list-style: none"&gt;&lt;li&gt;&lt;b&gt;5. Wrap up!&lt;/b&gt;&lt;/li&gt;&lt;/ul&gt;
]

---

&lt;h3&gt;Overview&lt;/h3&gt;

&lt;p style = "margin-bottom:2.5cm;"&gt;&lt;/p&gt;

.pull-left[
&lt;p style = "margin-bottom:.75cm;"&gt;&lt;/p&gt;

&lt;ul style = "margin-left:1.5cm;list-style: none"&gt;
  &lt;li&gt;&lt;b&gt;1. The ggplot() function &amp;#10004;&lt;/b&gt;&lt;/li&gt;
  &lt;ul style = "list-style: none"&gt;
    &lt;li&gt;1.1. Basic structure&lt;/li&gt;
    &lt;li&gt;1.2. Axes&lt;/li&gt;
    &lt;li&gt;1.3. Theme&lt;/li&gt;
    &lt;li&gt;1.4. Annotation&lt;/li&gt;
  &lt;/ul&gt;
&lt;/ul&gt;

&lt;p style = "margin-bottom:1.75cm;"&gt;&lt;/p&gt;

&lt;ul style = "margin-left:1.5cm;list-style: none"&gt;
  &lt;li&gt;&lt;b&gt;2. Adding dimensions &amp;#10004;&lt;/b&gt;&lt;/li&gt;
  &lt;ul style = "list-style: none"&gt;
    &lt;li&gt;2.1. More axes&lt;/li&gt;
    &lt;li&gt;2.2. More facets&lt;/li&gt;
    &lt;li&gt;2.3. More labels&lt;/li&gt;
  &lt;/ul&gt;
&lt;/ul&gt;

]

.pull-right[

&lt;ul style = "margin-left:-1cm;list-style: none"&gt;
  &lt;li&gt;&lt;b&gt;3. Types of geometry&lt;/b&gt;&lt;/li&gt;
  &lt;ul style = "list-style: none"&gt;
    &lt;li&gt;3.1. Points and lines&lt;/li&gt;
    &lt;li&gt;3.2. Barplots and histograms&lt;/li&gt;
    &lt;li&gt;3.3. Densities and boxplots&lt;/li&gt;
  &lt;/ul&gt;
&lt;/ul&gt;
]

---

### 3. Types of geometry

#### 3.1. Points and lines

&lt;ul&gt;
  &lt;li&gt;So far we only represented scatterplots, but &lt;b&gt;many other geometries&lt;/b&gt; can be used&lt;/li&gt;
  &lt;ul&gt;
    &lt;li&gt;For instance, &lt;b&gt;lines&lt;/b&gt; are particularly suited for &lt;b&gt;evolutions&lt;/b&gt; over time&lt;/li&gt;
  &lt;/ul&gt;
&lt;/ul&gt;

--


```r
ggplot(wid %&gt;% filter(country == "USA"), aes(x = year, y = top1)) + 
  geom_point() + geom_line()
```

--

&lt;img src="slides_files/figure-html/unnamed-chunk-99-1.png" width="48%" style="display: block; margin: auto;" /&gt;

---

### 3. Types of geometry

#### 3.2. Barplots and histograms

&lt;ul&gt;
  &lt;li&gt;&lt;b&gt;Barplots&lt;/b&gt; however are great for categorical \(x\) variables and continuous \(y\) variables&lt;/li&gt;
  &lt;ul&gt;
    &lt;li&gt;Setting the &lt;b&gt;stat&lt;/b&gt; argument to &lt;b&gt;"identity"&lt;/b&gt; allows to display the corresponding &lt;b&gt;y value&lt;/b&gt;&lt;/li&gt;
  &lt;/ul&gt;
&lt;/ul&gt;

--


```r
ggplot(wid %&gt;% filter(continent == "South America" &amp; year == 2019), 
       aes(x = country, y = top1)) + geom_bar(stat = "identity")
```

--

&lt;img src="slides_files/figure-html/unnamed-chunk-101-1.png" width="63%" style="display: block; margin: auto;" /&gt;

---

### 3. Types of geometry

#### 3.2. Barplots and histograms

&lt;ul&gt;
  &lt;li&gt;Note that you can &lt;b&gt;reorder the bars&lt;/b&gt; according to their y value using the reorder() function&lt;/li&gt;
&lt;/ul&gt;

--


```r
ggplot(wid %&gt;% filter(continent == "South America" &amp; year == 2019), 
       aes(x = reorder(country, top1), y = top1)) + geom_bar(stat = "identity")
```

--

&lt;img src="slides_files/figure-html/unnamed-chunk-103-1.png" width="68%" style="display: block; margin: auto;" /&gt;

---

### 3. Types of geometry

#### 3.2. Barplots and histograms

&lt;ul&gt;
  &lt;li&gt;You can also set stat to &lt;b&gt;"count"&lt;/b&gt; to plot the &lt;b&gt;number of observations&lt;/b&gt; per category&lt;/li&gt;
  &lt;ul&gt;
    &lt;li&gt;In that case, no variable should be assigned to the y axis&lt;/li&gt;
  &lt;/ul&gt;
&lt;/ul&gt;

--


```r
ggplot(wid, aes(x = continent)) + geom_bar(stat = "count")
```

--

&lt;img src="slides_files/figure-html/unnamed-chunk-105-1.png" width="68%" style="display: block; margin: auto;" /&gt;

---

### 3. Types of geometry

#### 3.2. Barplots and histograms

&lt;ul&gt;
  &lt;li&gt;Finally, histograms can be used to describe the distribution of a continuous variable&lt;/li&gt;
  &lt;ul&gt;
    &lt;li&gt;You can tune the bin width with &lt;b&gt;binwidth&lt;/b&gt; or the number of bins with &lt;b&gt;bins&lt;/b&gt;&lt;/li&gt;
  &lt;/ul&gt;
&lt;/ul&gt;

--


```r
ggplot(wid %&gt;% filter(year == 2019), aes(x = fshare)) + 
  geom_histogram(bins = 20, color = "white", fill = "steelblue")
```

--

&lt;img src="slides_files/figure-html/unnamed-chunk-107-1.png" width="63%" style="display: block; margin: auto;" /&gt;

---

### 3. Types of geometry

#### 3.3. Densities and boxplots

&lt;ul&gt;
  &lt;li&gt;The &lt;b&gt;continuous&lt;/b&gt; equivalent of the histogram is the &lt;b&gt;density&lt;/b&gt;&lt;/li&gt;
  &lt;ul&gt;
    &lt;li&gt;Similarly you can tune the &lt;b&gt;bandwidth&lt;/b&gt; with the &lt;b&gt;bw&lt;/b&gt; argument &lt;i&gt;(don't do it)&lt;/i&gt;&lt;/li&gt;
  &lt;/ul&gt;
&lt;/ul&gt;

--


```r
ggplot(wid %&gt;% filter(year == 2019), aes(x = fshare)) + 
    geom_density(color = "white", fill = "steelblue")
```

--

&lt;img src="slides_files/figure-html/unnamed-chunk-109-1.png" width="63%" style="display: block; margin: auto;" /&gt;

---

### 3. Types of geometry

#### 3.3. Densities and boxplots

&lt;ul&gt;
  &lt;li&gt;A handy geometry to plot &lt;b&gt;densities&lt;/b&gt; for different &lt;b&gt;groups&lt;/b&gt; is the &lt;b&gt;violin&lt;/b&gt;&lt;/li&gt;
  &lt;ul&gt;
    &lt;li&gt;Note that the &lt;b&gt;grouping variable&lt;/b&gt; should be assigned to the &lt;b&gt;\(x\) axis&lt;/b&gt;&lt;/i&gt;&lt;/li&gt;
  &lt;/ul&gt;
&lt;/ul&gt;

--


```r
ggplot(wid %&gt;% filter(year == 2019), aes(x = continent, y = fshare)) + 
    geom_violin(color = "white", fill = "steelblue") 
```

--

&lt;img src="slides_files/figure-html/unnamed-chunk-111-1.png" width="63%" style="display: block; margin: auto;" /&gt;

---

### 3. Types of geometry

#### 3.3. Densities and boxplots

&lt;ul&gt;
  &lt;li&gt;&lt;b&gt;Violins&lt;/b&gt; are particularly interesting when &lt;b&gt;combined with boxplots&lt;/b&gt;&lt;/li&gt;
  &lt;ul&gt;
    &lt;li&gt;When overlaying these geometries, make sure to tune the &lt;b&gt;width and opacity&lt;/b&gt; appropriately&lt;/li&gt;
  &lt;/ul&gt;
&lt;/ul&gt;

--


```r
ggplot(wid %&gt;% filter(year == 2019), aes(x = continent, y = fshare)) + 
    geom_violin(fill = "steelblue", alpha = .4) + geom_boxplot(width = .1, alpha = .4)
```

--

&lt;img src="slides_files/figure-html/unnamed-chunk-113-1.png" width="63%" style="display: block; margin: auto;" /&gt;

---

### 3. Types of geometry

#### 3.3. Densities and boxplots

&lt;ul&gt;
  &lt;li&gt;This is how &lt;b&gt;boxplots&lt;/b&gt; are constructed:&lt;/li&gt;
&lt;/ul&gt;

--

&lt;img src="slides_files/figure-html/unnamed-chunk-114-1.png" width="90%" style="display: block; margin: auto;" /&gt;

---

### 3. Types of geometry

#### 3.3. Densities and boxplots

&lt;ul&gt;
  &lt;li&gt;This is how &lt;b&gt;boxplots&lt;/b&gt; are constructed:&lt;/li&gt;
&lt;/ul&gt;

&lt;img src="slides_files/figure-html/unnamed-chunk-115-1.png" width="90%" style="display: block; margin: auto;" /&gt;


---

### 3. Types of geometry

#### 3.3. Densities and boxplots

&lt;ul&gt;
  &lt;li&gt;This is how &lt;b&gt;boxplots&lt;/b&gt; are constructed:&lt;/li&gt;
&lt;/ul&gt;

&lt;img src="slides_files/figure-html/unnamed-chunk-116-1.png" width="90%" style="display: block; margin: auto;" /&gt;

---

### 3. Types of geometry

#### 3.3. Densities and boxplots

&lt;ul&gt;
  &lt;li&gt;This is how &lt;b&gt;boxplots&lt;/b&gt; are constructed:&lt;/li&gt;
&lt;/ul&gt;

&lt;img src="slides_files/figure-html/unnamed-chunk-117-1.png" width="90%" style="display: block; margin: auto;" /&gt;

---

&lt;h3&gt;Overview&lt;/h3&gt;

&lt;p style = "margin-bottom:2.5cm;"&gt;&lt;/p&gt;

.pull-left[
&lt;p style = "margin-bottom:.75cm;"&gt;&lt;/p&gt;

&lt;ul style = "margin-left:1.5cm;list-style: none"&gt;
  &lt;li&gt;&lt;b&gt;1. The ggplot() function &amp;#10004;&lt;/b&gt;&lt;/li&gt;
  &lt;ul style = "list-style: none"&gt;
    &lt;li&gt;1.1. Basic structure&lt;/li&gt;
    &lt;li&gt;1.2. Axes&lt;/li&gt;
    &lt;li&gt;1.3. Theme&lt;/li&gt;
    &lt;li&gt;1.4. Annotation&lt;/li&gt;
  &lt;/ul&gt;
&lt;/ul&gt;

&lt;p style = "margin-bottom:1.75cm;"&gt;&lt;/p&gt;

&lt;ul style = "margin-left:1.5cm;list-style: none"&gt;
  &lt;li&gt;&lt;b&gt;2. Adding dimensions &amp;#10004;&lt;/b&gt;&lt;/li&gt;
  &lt;ul style = "list-style: none"&gt;
    &lt;li&gt;2.1. More axes&lt;/li&gt;
    &lt;li&gt;2.2. More facets&lt;/li&gt;
    &lt;li&gt;2.3. More labels&lt;/li&gt;
  &lt;/ul&gt;
&lt;/ul&gt;

]

.pull-right[

&lt;ul style = "margin-left:-1cm;list-style: none"&gt;
  &lt;li&gt;&lt;b&gt;3. Types of geometry &amp;#10004;&lt;/b&gt;&lt;/li&gt;
  &lt;ul style = "list-style: none"&gt;
    &lt;li&gt;3.1. Points and lines&lt;/li&gt;
    &lt;li&gt;3.2. Barplots and histograms&lt;/li&gt;
    &lt;li&gt;3.3. Densities and boxplots&lt;/li&gt;
  &lt;/ul&gt;
&lt;/ul&gt;

&lt;p style = "margin-bottom:1cm;"&gt;&lt;/p&gt;

&lt;ul style = "margin-left:-1cm;list-style: none"&gt;
  &lt;li&gt;&lt;b&gt;4. How (not) to lie with graphics&lt;/b&gt;&lt;/li&gt;
  &lt;ul style = "list-style: none"&gt;
    &lt;li&gt;4.1. Cumulative representations&lt;/li&gt;
    &lt;li&gt;4.2. Axis manipulations&lt;/li&gt;
    &lt;li&gt;4.3. Interpolation&lt;/li&gt;
  &lt;/ul&gt;
&lt;/ul&gt;
 
&lt;p style = "margin-bottom:1cm;"&gt;&lt;/p&gt;

&lt;ul style = "margin-left:-1cm;list-style: none"&gt;&lt;li&gt;&lt;b&gt;5. Wrap up!&lt;/b&gt;&lt;/li&gt;&lt;/ul&gt;
]

---

&lt;h3&gt;Overview&lt;/h3&gt;

&lt;p style = "margin-bottom:2.5cm;"&gt;&lt;/p&gt;

.pull-left[
&lt;p style = "margin-bottom:.75cm;"&gt;&lt;/p&gt;

&lt;ul style = "margin-left:1.5cm;list-style: none"&gt;
  &lt;li&gt;&lt;b&gt;1. The ggplot() function &amp;#10004;&lt;/b&gt;&lt;/li&gt;
  &lt;ul style = "list-style: none"&gt;
    &lt;li&gt;1.1. Basic structure&lt;/li&gt;
    &lt;li&gt;1.2. Axes&lt;/li&gt;
    &lt;li&gt;1.3. Theme&lt;/li&gt;
    &lt;li&gt;1.4. Annotation&lt;/li&gt;
  &lt;/ul&gt;
&lt;/ul&gt;

&lt;p style = "margin-bottom:1.75cm;"&gt;&lt;/p&gt;

&lt;ul style = "margin-left:1.5cm;list-style: none"&gt;
  &lt;li&gt;&lt;b&gt;2. Adding dimensions &amp;#10004;&lt;/b&gt;&lt;/li&gt;
  &lt;ul style = "list-style: none"&gt;
    &lt;li&gt;2.1. More axes&lt;/li&gt;
    &lt;li&gt;2.2. More facets&lt;/li&gt;
    &lt;li&gt;2.3. More labels&lt;/li&gt;
  &lt;/ul&gt;
&lt;/ul&gt;

]

.pull-right[

&lt;ul style = "margin-left:-1cm;list-style: none"&gt;
  &lt;li&gt;&lt;b&gt;3. Types of geometry &amp;#10004;&lt;/b&gt;&lt;/li&gt;
  &lt;ul style = "list-style: none"&gt;
    &lt;li&gt;3.1. Points and lines&lt;/li&gt;
    &lt;li&gt;3.2. Barplots and histograms&lt;/li&gt;
    &lt;li&gt;3.3. Densities and boxplots&lt;/li&gt;
  &lt;/ul&gt;
&lt;/ul&gt;

&lt;p style = "margin-bottom:1cm;"&gt;&lt;/p&gt;

&lt;ul style = "margin-left:-1cm;list-style: none"&gt;
  &lt;li&gt;&lt;b&gt;4. How (not) to lie with graphics&lt;/b&gt;&lt;/li&gt;
  &lt;ul style = "list-style: none"&gt;
    &lt;li&gt;4.1. Cumulative representations&lt;/li&gt;
    &lt;li&gt;4.2. Axis manipulations&lt;/li&gt;
    &lt;li&gt;4.3. Interpolation&lt;/li&gt;
  &lt;/ul&gt;
&lt;/ul&gt;
]

---

### 4. How (not) to lie with graphics

#### 4.1. Cumulative representations

&lt;p style = "margin-bottom:1cm;"&gt;&lt;/p&gt;

.left-column[
&lt;center&gt;&lt;img src = "trump.png" width = "720"/&gt;&lt;/center&gt;
]
 
.right-column[
&lt;p style = "margin-bottom:2cm;"&gt;&lt;/p&gt;
&lt;center&gt;Donald Trump during his daily coronavirus task force briefing on April 6, 2020&lt;/center&gt;
&lt;p style = "margin-bottom:1.5cm;"&gt;&lt;/p&gt;
&lt;b&gt;The legend indicates:&lt;/b&gt; &lt;i&gt;''&gt;1,790,000 tests completed through April 5''&lt;/i&gt;
]

---

### 4. How (not) to lie with graphics

#### 4.1. Cumulative representations

&lt;p style = "margin-bottom:1cm;"&gt;&lt;/p&gt;

.left-column[
&lt;img src="slides_files/figure-html/unnamed-chunk-118-1.png" width="100%" style="display: block; margin: auto;" /&gt;
]

.right-column[
&lt;p style = "margin-bottom:2cm;"&gt;&lt;/p&gt;
&lt;center&gt;&lt;b&gt;Let's take a closer look&lt;/b&gt;&lt;/center&gt;
  
&lt;p style = "margin-bottom:1.5cm;"&gt;&lt;/p&gt;
&lt;center&gt;&lt;i&gt;''&gt;1,790,000 tests completed through April 5''&lt;/i&gt;&lt;/center&gt;
  
&lt;p style = "margin-bottom:1.5cm;"&gt;&lt;/p&gt;
&lt;center&gt;Isn't there something tricky here?&lt;/center&gt;
]
---

### 4. How (not) to lie with graphics

#### 4.1. Cumulative representations

&lt;p style = "margin-bottom:1cm;"&gt;&lt;/p&gt;

.left-column[
&lt;img src="slides_files/figure-html/unnamed-chunk-119-1.png" width="100%" style="display: block; margin: auto;" /&gt;
]

.right-column[
&lt;p style = "margin-bottom:1.25cm;"&gt;&lt;/p&gt;
&lt;center&gt;&lt;i&gt;They plotted the &lt;b&gt;cumulative&lt;/b&gt; number tests!&lt;/i&gt;&lt;/center&gt;

&lt;p style = "margin-bottom:1.5cm;"&gt;&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;This makes it &lt;b&gt;look&lt;/b&gt; like an &lt;b&gt;exponential&lt;/b&gt; progression&lt;/li&gt;&lt;/ul&gt;
  
&lt;p style = "margin-bottom:1cm;"&gt;&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;While the daily number of tests &lt;b&gt;actually did not increase that exponentially&lt;/b&gt;&lt;/li&gt;&lt;/ul&gt;
]

---

### 4. How (not) to lie with graphics

#### 4.2. Axis manipulations

.left-column[
&lt;img src="slides_files/figure-html/unnamed-chunk-120-1.png" width="100%" style="display: block; margin: auto;" /&gt;
]

.right-column[
&lt;p style = "margin-bottom:4cm;"&gt;&lt;/p&gt;
&lt;center&gt;&lt;i&gt;&lt;b&gt;What about this increase?&lt;/b&gt;&lt;/i&gt;&lt;/center&gt;
]

---

### 4. How (not) to lie with graphics

#### 4.2. Axis manipulations

.left-column[
&lt;img src="slides_files/figure-html/unnamed-chunk-121-1.png" width="100%" style="display: block; margin: auto;" /&gt;
]

.right-column[
&lt;p style = "margin-bottom:3cm;"&gt;&lt;/p&gt;
&lt;i&gt;&lt;b&gt;Same data&lt;/b&gt;, but starting &lt;b&gt;from 0&lt;/b&gt;&lt;/i&gt;
  
&lt;p style = "margin-bottom:1.5cm;"&gt;&lt;/p&gt;
&amp;#10140; &lt;b&gt;Zooming&lt;/b&gt; or unzooming on a graph can be very &lt;b&gt;misleading&lt;/b&gt;
]

---

### 4. How (not) to lie with graphics

#### 4.2. Axis manipulations

&lt;center&gt;&lt;img src = "foxnews.png" width = "600"/&gt;&lt;/center&gt;

---

### 4. How (not) to lie with graphics

#### 4.2. Axis manipulations

.pull-left[
&lt;img src="slides_files/figure-html/unnamed-chunk-122-1.png" width="90%" style="display: block; margin: auto;" /&gt;
&lt;center&gt;&lt;i&gt;&lt;b&gt;Misleading&lt;/b&gt;&lt;/i&gt;&lt;/center&gt;
]

--

.pull-right[
&lt;img src="slides_files/figure-html/unnamed-chunk-123-1.png" width="90%" style="display: block; margin: auto;" /&gt;
&lt;center&gt;&lt;i&gt;&lt;b&gt;Not misleading&lt;/b&gt;&lt;/i&gt;&lt;/center&gt;
]

---

### 4. How (not) to lie with graphics

#### 4.2. Axis manipulations

 * But in this case which is the most adequate representation?

.pull-left[
&lt;img src="slides_files/figure-html/unnamed-chunk-124-1.png" width="100%" style="display: block; margin: auto;" /&gt;
]

.pull-right[
&lt;img src="slides_files/figure-html/unnamed-chunk-125-1.png" width="100%" style="display: block; margin: auto;" /&gt;
]

---

### 4. How (not) to lie with graphics

#### 4.2. Axis manipulations

 * There is no universal rule, but always &lt;b&gt;pay attention to axes and scales&lt;/b&gt;

.pull-left[

&lt;p style = "margin-bottom:-1cm;"&gt;&lt;/p&gt;

&lt;img src="slides_files/figure-html/unnamed-chunk-126-1.png" width="95%" style="display: block; margin: auto;" /&gt;
&lt;p style = "margin-bottom:-1.25cm;"&gt;&lt;/p&gt;
&lt;img src="slides_files/figure-html/unnamed-chunk-127-1.png" width="95%" style="display: block; margin: auto;" /&gt;
]

.pull-right[

&lt;p style = "margin-bottom:-1cm;"&gt;&lt;/p&gt;

&lt;img src="slides_files/figure-html/unnamed-chunk-128-1.png" width="95%" style="display: block; margin: auto;" /&gt;
&lt;p style = "margin-bottom:-1.25cm;"&gt;&lt;/p&gt;
&lt;img src="slides_files/figure-html/unnamed-chunk-129-1.png" width="95%" style="display: block; margin: auto;" /&gt;
]

---

### 4. How (not) to lie with graphics

#### 4.2. Axis manipulations

&lt;ul&gt;
  &lt;li&gt;&amp;#9888; &lt;i&gt;Be very careful with double axes&lt;/i&gt; &amp;#9888;&lt;/li&gt;
  &lt;ul&gt;
    &lt;li&gt;You can make them tell basically everything&lt;/li&gt;
  &lt;/ul&gt;
&lt;/ul&gt;


&lt;img src="slides_files/figure-html/unnamed-chunk-130-1.png" width="90%" style="display: block; margin: auto;" /&gt;

--

&lt;p style = "margin-top:-11.265cm"&gt;&lt;/p&gt;

&lt;img src="slides_files/figure-html/unnamed-chunk-131-1.png" width="90%" style="display: block; margin: auto;" /&gt;

--

&lt;p style = "margin-top:-11.265cm"&gt;&lt;/p&gt;

&lt;img src="slides_files/figure-html/unnamed-chunk-132-1.png" width="90%" style="display: block; margin: auto;" /&gt;

--

&lt;p style = "margin-top:-11.265cm"&gt;&lt;/p&gt;

&lt;img src="slides_files/figure-html/unnamed-chunk-133-1.png" width="90%" style="display: block; margin: auto;" /&gt;

---

### 4. How (not) to lie with graphics

#### 4.2. Axis manipulations

&lt;ul&gt;
  &lt;li&gt;Be careful with &lt;b&gt;free scales&lt;/b&gt; in &lt;b&gt;facet_wrap()&lt;/b&gt; as well&lt;/li&gt;
  &lt;ul&gt;
    &lt;li&gt;It can make things &lt;b&gt;look more homogeneous&lt;/b&gt; than they actually are&lt;/li&gt;
  &lt;/ul&gt;
&lt;/ul&gt;

&lt;img src="slides_files/figure-html/unnamed-chunk-134-1.png" width="60%" style="display: block; margin: auto;" /&gt;

---

### 4. How (not) to lie with graphics

#### 4.3. Interpolation

 * Here is the **previous graph** on the tax increase using a **line geometry**
 
.pull-left[
&lt;img src="slides_files/figure-html/unnamed-chunk-135-1.png" width="100%" style="display: block; margin: auto;" /&gt;
]

--

.pull-right[
&lt;p style = "margin-bottom:3cm;"&gt;&lt;/p&gt;
&lt;center&gt;This line has &lt;b&gt;infinitely many&lt;/b&gt; points&lt;/center&gt;

&lt;p style = "margin-bottom:2cm;"&gt;&lt;/p&gt;
&lt;center&gt;But &lt;b&gt;only two&lt;/b&gt; of them are &lt;b&gt;correct&lt;/b&gt;&lt;/center&gt;
]

---

### 4. How (not) to lie with graphics

#### 4.3. Interpolation

&lt;ul&gt;
  &lt;li&gt;This figure also has &lt;b&gt;finitely many actual data points&lt;/b&gt; but feels more natural&lt;/li&gt;
  &lt;ul&gt;
    &lt;li&gt;This is because values are &lt;b&gt;sufficiently close&lt;/b&gt; to each other to be &lt;b&gt;considered&lt;/b&gt; as &lt;b&gt;continuous&lt;/b&gt;&lt;/li&gt;
  &lt;/ul&gt;
&lt;/ul&gt;

&lt;img src="slides_files/figure-html/unnamed-chunk-136-1.png" width="60%" style="display: block; margin: auto;" /&gt;

---

### 4. How (not) to lie with graphics

#### 4.3. Interpolation

&lt;ul&gt;
  &lt;li&gt;There is no rule either on when &lt;b&gt;lines&lt;/b&gt; should be used or not&lt;/li&gt;
  &lt;ul&gt;
    &lt;li&gt;But the &lt;b&gt;observation level&lt;/b&gt; should be &lt;b&gt;clear&lt;/b&gt; on the graph&lt;/li&gt;
  &lt;/ul&gt;
&lt;/ul&gt;

&lt;p style = "margin-bottom:1.5cm;"&gt;&lt;/p&gt;

.pull-left[
&lt;img src="slides_files/figure-html/unnamed-chunk-137-1.png" width="100%" style="display: block; margin: auto;" /&gt;

]

.pull-right[
&lt;img src="slides_files/figure-html/unnamed-chunk-138-1.png" width="100%" style="display: block; margin: auto;" /&gt;
]

---
&lt;h3&gt;Overview&lt;/h3&gt;

&lt;p style = "margin-bottom:2.5cm;"&gt;&lt;/p&gt;

.pull-left[
&lt;p style = "margin-bottom:.75cm;"&gt;&lt;/p&gt;

&lt;ul style = "margin-left:1.5cm;list-style: none"&gt;
  &lt;li&gt;&lt;b&gt;1. The ggplot() function &amp;#10004;&lt;/b&gt;&lt;/li&gt;
  &lt;ul style = "list-style: none"&gt;
    &lt;li&gt;1.1. Basic structure&lt;/li&gt;
    &lt;li&gt;1.2. Axes&lt;/li&gt;
    &lt;li&gt;1.3. Theme&lt;/li&gt;
    &lt;li&gt;1.4. Annotation&lt;/li&gt;
  &lt;/ul&gt;
&lt;/ul&gt;

&lt;p style = "margin-bottom:1.75cm;"&gt;&lt;/p&gt;

&lt;ul style = "margin-left:1.5cm;list-style: none"&gt;
  &lt;li&gt;&lt;b&gt;2. Adding dimensions &amp;#10004;&lt;/b&gt;&lt;/li&gt;
  &lt;ul style = "list-style: none"&gt;
    &lt;li&gt;2.1. More axes&lt;/li&gt;
    &lt;li&gt;2.2. More facets&lt;/li&gt;
    &lt;li&gt;2.3. More labels&lt;/li&gt;
  &lt;/ul&gt;
&lt;/ul&gt;

]

.pull-right[

&lt;ul style = "margin-left:-1cm;list-style: none"&gt;
  &lt;li&gt;&lt;b&gt;3. Types of geometry &amp;#10004;&lt;/b&gt;&lt;/li&gt;
  &lt;ul style = "list-style: none"&gt;
    &lt;li&gt;3.1. Points and lines&lt;/li&gt;
    &lt;li&gt;3.2. Barplots and histograms&lt;/li&gt;
    &lt;li&gt;3.3. Densities and boxplots&lt;/li&gt;
  &lt;/ul&gt;
&lt;/ul&gt;

&lt;p style = "margin-bottom:1cm;"&gt;&lt;/p&gt;

&lt;ul style = "margin-left:-1cm;list-style: none"&gt;
  &lt;li&gt;&lt;b&gt;4. How (not) to lie with graphics &amp;#10004;&lt;/b&gt;&lt;/li&gt;
  &lt;ul style = "list-style: none"&gt;
    &lt;li&gt;4.1. Cumulative representations&lt;/li&gt;
    &lt;li&gt;4.2. Axis manipulations&lt;/li&gt;
    &lt;li&gt;4.3. Interpolation&lt;/li&gt;
  &lt;/ul&gt;
&lt;/ul&gt;
 
&lt;p style = "margin-bottom:1cm;"&gt;&lt;/p&gt;

&lt;ul style = "margin-left:-1cm;list-style: none"&gt;&lt;li&gt;&lt;b&gt;5. Wrap up!&lt;/b&gt;&lt;/li&gt;&lt;/ul&gt;
]

---

### 5. Wrap up!

&lt;p style = "margin-bottom:2cm;"&gt;

&lt;center&gt;&lt;h4&gt; The 3 core components of the ggplot() function &lt;/h4&gt;&lt;/center&gt;

--

&lt;table class="table table-hover table-condensed" style="width: auto !important; margin-left: auto; margin-right: auto;"&gt;
&lt;caption&gt;&lt;/caption&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; Component &lt;/th&gt;
   &lt;th style="text-align:center;"&gt; Contribution &lt;/th&gt;
   &lt;th style="text-align:center;"&gt; Implementation &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Data &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; Underlying values &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; ggplot(data, | data %&amp;gt;% ggplot(., &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Mapping &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; Axis assignment &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; aes(x = V1, y = V2, ...)) &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Geometry &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; Type of plot &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; + geom_point() + geom_line() + ... &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;p style = "margin-bottom:2cm;"&gt;

--

 * Any **other element** should be added with a **`+` sign**

--


```r
ggplot(data, aes(x = V1, y = V2)) + 
  geom_point() + geom_line() +
  anything_else()
```

---

### 5. Wrap up!

.pull-left[
&lt;p style = "margin-bottom:1.75cm;"&gt;
&lt;center&gt;&lt;h4&gt; Main customization tools &lt;/h4&gt;&lt;/center&gt;
&lt;table class="table table-hover table-condensed" style="width: auto !important; margin-left: auto; margin-right: auto;"&gt;
&lt;caption&gt;&lt;/caption&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; Item to customize &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Main functions &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Axes &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; scale_[x/y]_[continuous/discrete] &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Baseline theme &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; theme_[void/minimal/.../dark]() &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Annotations &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; geom_[[h/v]line/text](), annotate() &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Theme &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; theme(axis.[line/ticks].[x/y] = ..., &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
]

--

.pull-right[
&lt;center&gt;&lt;h4&gt; Main types of geometry &lt;/h4&gt;&lt;/center&gt;
&lt;table class="table table-hover table-condensed" style="width: auto !important; margin-left: auto; margin-right: auto;"&gt;
&lt;caption&gt;&lt;/caption&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; Geometry &lt;/th&gt;
   &lt;th style="text-align:center;"&gt; Function &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Bar plot &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; geom_bar() &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Histogram &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; geom_histogram() &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Area &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; geom_area() &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Line &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; geom_line() &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Density &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; geom_density() &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Boxplot &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; geom_boxplot() &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Violin &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; geom_violin() &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Scatter plot &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; geom_point() &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
]

---

### 5. Wrap up!

.pull-left[

&lt;center&gt;&lt;h4&gt; Main types of aesthetics &lt;/h4&gt;&lt;/center&gt;

&lt;table class="table table-hover table-condensed" style="width: auto !important; margin-left: auto; margin-right: auto;"&gt;
&lt;caption&gt;&lt;/caption&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; Argument &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Meaning &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; alpha &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; opacity from 0 to 1 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; color &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; color of the geometry &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; fill &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; fill color of the geometry &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; size &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; size of the geometry &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; shape &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; shape for geometries like points &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; linetype &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; solid, dashed, dotted, etc. &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
]

--

.pull-right[

&lt;p style = "margin-bottom:3.25cm;"&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;If specified &lt;b&gt;in the geometry&lt;/b&gt;&lt;/li&gt;
  &lt;ul&gt;
    &lt;li&gt;It will apply uniformly to &lt;b&gt;all the geometry&lt;/b&gt;&lt;/li&gt;
  &lt;/ul&gt;
&lt;/ul&gt;
 
&lt;p style = "margin-bottom:1cm;"&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;If assigned to a variable &lt;b&gt;in aes&lt;/b&gt;&lt;/li&gt;
  &lt;ul&gt;
    &lt;li&gt;It will &lt;b&gt;vary with the variable&lt;/b&gt; according to a scale documented in legend&lt;/li&gt;
  &lt;/ul&gt;
&lt;/ul&gt;
]

&lt;br&gt;

--


```r
ggplot(data, aes(x = V1, y = V2, size = V3)) + 
  geom_point(color = "steelblue", alpha = .6)
```
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"ratio": "16:9",
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>
<style>
.logo {
  background-size: contain;
  background-repeat: no-repeat;
  position: absolute;
  top: 1em;
  right: 1em;
  z-index: 0;
 width: 10px;
  height: 10px;
   background: #DFE6EB;
  border-radius: 80px;
  text-align:left;
  padding:24px;
  box-shadow: 4px 4px 6px #F3F5F7, 
              -4px -4px 6px #D8DEE3;
}

.logo:active {
  box-shadow: inset 4px 4px 6px #F3F5F7, 
              inset -4px -4px 6px #D8DEE3
}

</style>

<script>
document
  .querySelectorAll(
    '.remark-slide-content' +
    ':not(.title-slide)' +
    // add additional classes to exclude here, e.g.
    // ':not(.inverse)' +
    ':not(.hide-logo)'
  )
  .forEach(el => {
    el.innerHTML += '<div class="logo"><a href = "https://louissirugue.github.io/metrics_on_R/home_dark.html"><p style = "margin-left:-.55cm;margin-top:-.55cm;width:53px"> <img src = "../source/home2.png"> </p> </a></div>';
  });
</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
